
while not dead 
    #Crew Healing
    if skill 'Healing' > 50 and diffhits <= 10
        if not bandaging 
            gumpresponse 20 1722920179
            wait 35 
        endif
        if not bandaging 
            gumpresponse 21 1722920179
            wait 35 
        endif
        if not bandaging 
            gumpresponse 22 1722920179
            wait 35 
        endif
        if not bandaging 
            gumpresponse 23 1722920179
            wait 35 
        endif
        if not bandaging 
            gumpresponse 24 1722920179
            wait 35 
        endif
        if not bandaging 
            gumpresponse 25 1722920179
            wait 35 
        endif  
        if not bandaging 
            gumpresponse 26 1722920179
            wait 35 
        endif  
        if not bandaging 
            gumpresponse 27 1722920179
            wait 35 
        endif  
    endif
    
    #spgylass part
    if not targetexists  and not cooldown 'Spyglass'
        gumpclose 2890020940
        gumpclose 2890020940
        if findtype 5365
            dclicktype 5365
        else 
            overhead "no spyglasses" 33
        endif
        while not targetexists 
            wait 20
        endwhile
        if targetexists neutral
            target 'self'
        endif
        waitforgump 2890020940
        gumpresponse 4 2890020940
        waitforgump 2890020940
        cooldown "Spyglass"
        @setvar blueFound 0
        if ingump "a small ship" 2890020940 or  ingump "a ship of the line" 2890020940 or   ingump "a longship" 2890020940 or  ingump "a small dragon ship" 2890020940 or   ingump "a medium ship" 2890020940 or    ingump "a medium dragon ship" 2890020940 or  ingump "a large ship" 2890020940 or     ingump "a large dragon ship" 2890020940 or   ingump "a carrack" 2890020940 or   ingump "a galleon" 2890020940
                @setvar blueFound 1
        endif
        while ingump "Next" 2890020940 and blueFound = 0
            gumpresponse 3 2890020940
            wait 350
            if ingump "a small ship" 2890020940 or   ingump "a ship of the line" 2890020940 or   ingump "a longship" 2890020940 or  ingump "a small dragon ship" 2890020940 or   ingump "a medium ship" 2890020940 or    ingump "a medium dragon ship" 2890020940 or  ingump "a large ship" 2890020940 or     ingump "a large dragon ship" 2890020940 or   ingump "a carrack" 2890020940 or   ingump "a galleon" 2890020940
                @setvar blueFound 1
            endif
        endwhile    
        cooldown 'Spyglass' 6000
    endif

    while ingump "Previous" 2890020940 and blueFound = 0
        gumpresponse 2 2890020940
        wait 350
        if ingump "a small ship" 2890020940 or   ingump "a ship of the line" 2890020940 or   ingump "a longship" 2890020940 or  ingump "a small dragon ship" 2890020940 or   ingump "a medium ship" 2890020940 or    ingump "a medium dragon ship" 2890020940 or  ingump "a large ship" 2890020940 or     ingump "a large dragon ship" 2890020940 or   ingump "a carrack" 2890020940 or   ingump "a galleon" 2890020940
            @setvar blueFound 1
        endif
    endwhile   
endwhile