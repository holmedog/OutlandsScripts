if not timerexists chivgate_bot
    createtimer chivgate_bot
    settimer chivgate_bot 31000
endif
if not timerexists spamChat
    createtimer spamChat
    settimer spamChat 31000
endif
#make sure a cursor does not exist from before
if targetexists
    hotkey "Cancel Current Target"
    wait 350
endif

if timer "spamChat" > 4000
    wait 500
    say "#Lantern = Towns"
    wait 500
    say "#Torch = Dungeons"
    wait 500
    say "#Candle = Shrines"
    wait 500
    settimer "spamChat" 0
endif

if findtype 2594 ground any any 2
    if timer chivgate_bot >= 31000
        say "Cities..." 88
        say '[SacredJourney'
        waitforgump 1482653814
        gumpresponse 1
        wait 500
        dclicktype '2594' ground any any 2
        settimer chivgate_bot 0
        say "Enjoy your shopping trip!"
        wait 3000
    else 
        say "Recharging..." 
        dclicktype '2594' ground any any 2
    endif
endif
wait 200

if findtype 2578 ground any any 2
    if timer chivgate_bot >= 31000
        say "Dungeons..." 88
        say '[SacredJourney'
        waitforgump 1482653814
        gumpresponse 2
        wait 500
        dclicktype '2578' ground any any 2
        settimer chivgate_bot 0
        say "Kill some for me!"
        wait 3000
    else 
        say "Recharging..." 
        dclicktype '2578' ground any any 2
    endif
endif
wait 200

if findtype 2575 ground any any 2
    if timer chivgate_bot >= 31000
        say "Shrines..." 88
        say '[SacredJourney'
        waitforgump 1482653814
        gumpresponse 3
        wait 500
        dclicktype '2575' ground any any 2
        settimer chivgate_bot 0
        say "Watch for reds!"
        wait 3000
    else 
        say "Recharging..." 
        dclicktype '2575' ground any any 2
    endif
endif
wait 500
loop