clearignore

//open tome chest
dclick 0x5B7C7BBD
wait 600

//repair
dclick 0x61F237E9
wait 600

overhead "Starting Organizers"
organizer 1
while queued
    wait 1000
endwhile
organizer 2
while queued
    wait 1000
endwhile
organizer 3
while queued
    wait 1000
endwhile
organizer 4
while queued
    wait 1000
endwhile
organizer 5
while queued
    wait 1000
endwhile
organizer 6
while queued
    wait 1000
endwhile
organizer 7
while queued
    wait 1000
endwhile
organizer 8
while queued
    wait 1000
endwhile
organizer 9
while queued
    wait 1000
endwhile
wait 1000

while findtype "cooked fish"  as found
    dclicktype "dagger"
    wft 2500
    target found
    #wait 400
    ignore found
endwhile
while findtype "fish"  as found
    dclicktype "dagger"
    wft 2500
    target found
    #wait 400
    ignore found
endwhile

//dump all supply shelf
if findtype 'storage shelf' ground any any 2 as found
    menu found 0 
    wft 2500
    target self
    menu found 1                
    gumpclose 3232825965 
    if skill "Magery" > 50
        while counttype 29012 backpack < 35
            cast "create food"
            wait 1000
            if mana < 70 and insysmsg "use another magic"
                dclicktype 29012
            endif
            menu found 1
            if insysmsg "cheese"
                break
            endif
        endwhile
    endif
endif        
overhead "Done with shelf"     
gumpclose 3232825965   

//dump all resources
dclick 0x4004288C
waitforgump 1859005118
gumpresponse 2
waitfortarget
waitforgump 1859005118
target 'self'
wait 500
gumpclose 1859005118
wait 500

clearignore 
//dump pack llama
while findtype 292 ground any any 2 as found
    overhead 'Packhorse dump routine' 55
    
    dclick found
    wait 500
    //dump all supply shelf
    menu 0x4083AF65 0
    waitfortarget
    target found
    wait 500
    gumpclose
    wait 500

    //dump all resources
    dclick 0x407F8ACB
    waitforgump 1859005118
    gumpresponse 2
    waitfortarget
    waitforgump 1859005118
    target found
    wait 500
    gumpclose
    wait 500
    
    #dump gold
    

    while findtype 3821 'found' as 'myGold'
        lift myGold 60000
        drop '0x40820133' -1 -1 0 
        wait 600
    endwhile

    ignore found
endwhile   

//dump pack horse
while findtype 291 ground any any 2 as found
    overhead 'Packhorse dump routine' 55
    
    dclick found
    wait 500
    //dump all supply shelf
    menu 0x4083AF65 0
    waitfortarget
    target found
    wait 500
    gumpclose
    wait 500

    //dump all resources
    dclick 0x407F8ACB
    waitforgump 1859005118
    gumpresponse 2
    waitfortarget
    waitforgump 1859005118
    target found
    wait 500
    gumpclose
    wait 500
    
    #dump gold
    

    while findtype 3821 'found' as 'myGold'
        lift myGold 60000
        drop '0x40820133' -1 -1 0 
        wait 600
    endwhile

    ignore found
endwhile    

gumpclose 3232825965   

script 'Bag Dumper'