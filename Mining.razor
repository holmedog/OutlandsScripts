if not timerexists "miner"
    createtimer "miner"
    settimer "miner" 1100
endif

clearsysmsg
overhead 'Starting'
while not insysmsg 'You do not see any'
    if insysmsg 'Now tracking'
        say 'Ah shit!!!'
        cast 'recall'
        waitfortarget
        targettype '7956'backpack
        wait 5000
        break
    endif
    if weight >= maxweight - 25
        overhead 'Too fat - restart'
        break
    endif
    if insysmsg 'Harvesting is not'
        overhead 'Cant harvest'
        break
    endif
    if insysmsg 'recently travel'
        overhead 'Just recalled'
        break
    endif
    if insysmsg 'You have worn out your tool!'
        break
    endif
    
    if timer "miner" >= 1000
        hotkey 'use item in hand'
        settimer "miner" 0
        wait 200
    endif
    
endwhile


#Dump ore if we have it

if findtype 6585 'backpack'
    random 4
    wait 250
    if insysmsg 'Random: 1'
        organizer 15
        while queued
            wait 1000
        endwhile
    endif
    if insysmsg 'Random: 2'
        organizer 16
        while queued
            wait 1000
        endwhile
    endif
    if insysmsg 'Random: 3'
        organizer 17
        while queued
            wait 1000
        endwhile
    endif
    if insysmsg 'Random: 4'
        organizer 18
        while queued
            wait 1000
        endwhile
    endif
endif

clearsysmsg
while not insysmsg 'ore'
    if timer "miner" >= 3000
        overhead 'Tracking'
        settimer miner 0
    endif
    if insysmsg 'Now tracking'
        say 'Ah shit!!!'
        cast 'recall'
        waitfortarget
        targettype '7956'
        break
    endif
    wait 500
    
    if weight >= 365
        overhead 'Too fat'
    endif
endwhile